<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø³Ø§Ø¨Ù‚Ù‡ Ú¯Ù„ ÛŒØ§ Ù¾ÙˆÚ† - Ú©Ø§ÙÛŒ Ù†Øª</title>
    <link rel="stylesheet" href="https://cdn.fontcdn.ir/Font/Persian/Vazir/Vazir.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Vazir', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 25px;
            padding: 40px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            text-align: center;
        }
        
        .header {
            margin-bottom: 30px;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: #FFD700;
        }
        
        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .prize-box {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #1e3c72;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            font-weight: bold;
            font-size: 1.3rem;
        }
        
        .cups-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 40px 0;
            flex-wrap: wrap;
        }
        
        .cup {
            width: 80px;
            height: 100px;
            background: linear-gradient(135deg, #8B4513, #A0522D);
            border-radius: 0 0 20px 20px;
            cursor: pointer;
            position: relative;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
        }
        
        .cup:hover {
            transform: translateY(-10px);
            background: linear-gradient(135deg, #A0522D, #8B4513);
        }
        
        .cup.selected {
            transform: scale(1.1);
            box-shadow: 0 0 20px gold;
        }
        
        .ball {
            width: 30px;
            height: 30px;
            background: radial-gradient(circle at 30% 30%, #FFD700, #FF8C00);
            border-radius: 50%;
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            display: none;
        }
        
        .controls {
            margin: 30px 0;
        }
        
        .shuffle-btn, .guess-btn {
            background: linear-gradient(135deg, #25D366, #1ea952);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1.2rem;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s ease;
        }
        
        .shuffle-btn:hover, .guess-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(37, 211, 102, 0.4);
        }
        
        .shuffle-btn:disabled, .guess-btn:disabled {
            background: #6b7280;
            cursor: not-allowed;
            transform: none;
        }
        
        .result {
            margin: 20px 0;
            font-size: 1.3rem;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .win {
            color: #25D366;
            font-weight: bold;
            font-size: 1.5rem;
        }
        
        .lose {
            color: #ff6b6b;
            font-weight: bold;
        }
        
        .attempts {
            margin: 20px 0;
            font-size: 1.1rem;
            opacity: 0.8;
        }
        
        .code-display {
            background: rgba(255, 255, 255, 0.2);
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 1.3rem;
            letter-spacing: 2px;
            display: none;
        }
        
        .back-btn {
            display: inline-block;
            margin-top: 20px;
            color: #93c5fd;
            text-decoration: none;
            font-size: 1.1rem;
            padding: 12px 25px;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            transition: all 0.3s ease;
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .back-btn:hover {
            color: #ffffff;
            background: rgba(255,255,255,0.2);
        }
        
        @keyframes shuffle {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-20px); }
            50% { transform: translateX(20px); }
            75% { transform: translateX(-20px); }
        }
        
        .shuffling {
            animation: shuffle 0.5s ease-in-out infinite;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¯ Ù…Ø³Ø§Ø¨Ù‚Ù‡ Ú¯Ù„ ÛŒØ§ Ù¾ÙˆÚ†</h1>
            <p>Ú¯Ù„ Ø±Ø§ Ù¾ÛŒØ¯Ø§ Ú©Ù† Ùˆ Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ùˆ!</p>
        </div>
        
        <div class="prize-box">
            ğŸ† Ø¬Ø§ÛŒØ²Ù‡: Û± Ù…Ø§Ù‡ ÙÛŒÙ„ØªØ±Ø´Ú©Ù† Ø±Ø§ÛŒÚ¯Ø§Ù† - Û³Û° Ú¯ÛŒÚ¯ ğŸ†
        </div>
        
        <div class="cups-container" id="cupsContainer">
            <!-- Ø¨Ø§ JavaScript Ù¾Ø± Ù…ÛŒâ€ŒØ´ÙˆØ¯ -->
        </div>
        
        <div class="controls">
            <button class="shuffle-btn" onclick="shuffleCups()" id="shuffleBtn">
                ğŸ”„ Ø¨Ù‡ Ù‡Ù… Ø²Ø¯Ù† Ù„ÛŒÙˆØ§Ù†â€ŒÙ‡Ø§
            </button>
            <button class="guess-btn" onclick="checkGuess()" id="guessBtn" disabled>
                ğŸ¯ Ø­Ø¯Ø³ Ø²Ø¯Ù†
            </button>
        </div>
        
        <div class="attempts">
            ÙØ±ØµØª Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡: <span id="attemptsCount">Û±</span> Ø¨Ø§Ø±
        </div>
        
        <div class="result" id="result">
            Ù…Ù†ØªØ¸Ø± Ø­Ø¯Ø³ Ø´Ù…Ø§...
        </div>
        
        <div class="code-display" id="codeDisplay">
            <!-- Ú©Ø¯ Ø¨Ø±Ù†Ø¯Ù‡ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ -->
        </div>
        
        <a href="index.html" class="back-btn">
            â† Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ
        </a>
    </div>

    <script>
        let ballPosition = 0;
        let attempts = 1;
        let maxAttempts = 1;
        let gameActive = false;
        let winCode = "";

        // Ú©Ø¯Ù‡Ø§ÛŒ Ø¨Ø±Ù†Ø¯Ù‡
        const winCodes = [
            "GOLBARI123",
            "JACKPOT456", 
            "WINNER789",
            "PRIZE2024",
            "CHAMPION55"
        ];

        // Ø§ÛŒØ¬Ø§Ø¯ Ù„ÛŒÙˆØ§Ù†â€ŒÙ‡Ø§
        function createCups() {
            const cupsContainer = document.getElementById('cupsContainer');
            cupsContainer.innerHTML = '';
            
            for (let i = 0; i < 10; i++) {
                const cup = document.createElement('div');
                cup.className = 'cup';
                cup.innerHTML = '<div class="ball"></div>ğŸ¯';
                cup.setAttribute('data-index', i);
                
                cup.addEventListener('click', () => selectCup(i));
                cupsContainer.appendChild(cup);
            }
        }

        // Ø¨Ù‡ Ù‡Ù… Ø²Ø¯Ù† Ù„ÛŒÙˆØ§Ù†â€ŒÙ‡Ø§
        function shuffleCups() {
            if (gameActive) return;
            
            const cups = document.querySelectorAll('.cup');
            const shuffleBtn = document.getElementById('shuffleBtn');
            const guessBtn = document.getElementById('guessBtn');
            
            // ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ Ù‡Ù†Ú¯Ø§Ù… Ø¨Ù‡ Ù‡Ù… Ø²Ø¯Ù†
            shuffleBtn.disabled = true;
            guessBtn.disabled = true;
            
            // Ù¾Ù†Ù‡Ø§Ù† Ú©Ø±Ø¯Ù† Ú¯Ù„
            cups.forEach(cup => {
                cup.querySelector('.ball').style.display = 'none';
            });
            
            // Ø§Ù†ØªØ®Ø§Ø¨ Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¬Ø¯ÛŒØ¯ Ú¯Ù„
            ballPosition = Math.floor(Math.random() * 10);
            
            // Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ø¨Ù‡ Ù‡Ù… Ø²Ø¯Ù†
            let shuffleCount = 0;
            const maxShuffles = 15;
            
            const shuffleInterval = setInterval(() => {
                cups.forEach(cup => {
                    cup.classList.add('shuffling');
                });
                
                setTimeout(() => {
                    cups.forEach(cup => {
                        cup.classList.remove('shuffling');
                    });
                }, 200);
                
                shuffleCount++;
                
                if (shuffleCount >= maxShuffles) {
                    clearInterval(shuffleInterval);
                    
                    // ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ø¨Ø§Ø²ÛŒ
                    gameActive = true;
                    shuffleBtn.disabled = true;
                    guessBtn.disabled = false;
                    
                    document.getElementById('result').innerHTML = 'Ø­Ø§Ù„Ø§ Ø­Ø¯Ø³ Ø¨Ø²Ù† Ú¯Ù„ Ø²ÛŒØ± Ú©Ø¯ÙˆÙ… Ù„ÛŒÙˆØ§Ù†Ù‡!';
                }
            }, 300);
        }

        // Ø§Ù†ØªØ®Ø§Ø¨ Ù„ÛŒÙˆØ§Ù†
        function selectCup(index) {
            if (!gameActive) return;
            
            const cups = document.querySelectorAll('.cup');
            
            // Ø­Ø°Ù Ø§Ù†ØªØ®Ø§Ø¨ Ù‚Ø¨Ù„ÛŒ
            cups.forEach(cup => {
                cup.classList.remove('selected');
            });
            
            // Ø§Ù†ØªØ®Ø§Ø¨ Ø¬Ø¯ÛŒØ¯
            cups[index].classList.add('selected');
        }

        // Ø¨Ø±Ø±Ø³ÛŒ Ø­Ø¯Ø³
        function checkGuess() {
            if (!gameActive) return;
            
            const cups = document.querySelectorAll('.cup');
            const selectedCup = document.querySelector('.cup.selected');
            const resultDiv = document.getElementById('result');
            const codeDisplay = document.getElementById('codeDisplay');
            const guessBtn = document.getElementById('guessBtn');
            const shuffleBtn = document.getElementById('shuffleBtn');
            
            if (!selectedCup) {
                resultDiv.innerHTML = '<span class="lose">âŒ Ù„Ø·ÙØ§Ù‹ Ø§ÙˆÙ„ ÛŒÙ‡ Ù„ÛŒÙˆØ§Ù† Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†!</span>';
                return;
            }
            
            const selectedIndex = parseInt(selectedCup.getAttribute('data-index'));
            
            // Ù†Ù…Ø§ÛŒØ´ Ú¯Ù„
            cups[ballPosition].querySelector('.ball').style.display = 'block';
            
            gameActive = false;
            guessBtn.disabled = true;
            
            if (selectedIndex === ballPosition) {
                // Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯
                winCode = winCodes[Math.floor(Math.random() * winCodes.length)];
                resultDiv.innerHTML = '<span class="win">ğŸ‰ Ø¢ÙØ±ÛŒÙ†! Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ÛŒ! ğŸ‰</span>';
                codeDisplay.style.display = 'block';
                codeDisplay.innerHTML = `Ú©Ø¯ Ø¬Ø§ÛŒØ²Ù‡ ØªÙˆ: <strong>${winCode}</strong>`;
                
                // Ú©Ù¾ÛŒ Ú©Ø±Ø¯Ù† Ø®ÙˆØ¯Ú©Ø§Ø±
                navigator.clipboard.writeText(winCode).then(() => {
                    setTimeout(() => {
                        alert(`Ú©Ø¯ ${winCode} Ú©Ù¾ÛŒ Ø´Ø¯! Ø¨Ø±Ùˆ Ø¨Ù‡ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ Ùˆ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†.`);
                    }, 1000);
                });
            } else {
                // Ø¨Ø§Ø®Øª
                attempts++;
                document.getElementById('attemptsCount').textContent = maxAttempts - attempts + 1;
                
                if (attempts > maxAttempts) {
                    resultDiv.innerHTML = '<span class="lose">âŒ Ù…ØªØ§Ø³ÙØ§Ù†Ù‡ Ø¨Ø§Ø®ØªÛŒ! ÙØ±ØµØªØª ØªÙ…ÙˆÙ… Ø´Ø¯</span>';
                    shuffleBtn.disabled = true;
                } else {
                    resultDiv.innerHTML = '<span class="lose">âŒ Ø§Ø´ØªØ¨Ø§Ù‡ Ø­Ø¯Ø³ Ø²Ø¯ÛŒ! Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†</span>';
                    shuffleBtn.disabled = false;
                }
            }
        }

        // Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ
        document.addEventListener('DOMContentLoaded', function() {
            createCups();
            document.getElementById('attemptsCount').textContent = maxAttempts;
        });
    </script>
</body>
</html>
